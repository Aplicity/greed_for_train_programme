# greed_for_train_programme
基于贪心算法的动车检修规划

本项目来源于[2019年同济大学数学建模竞赛](http://math.tongji.edu.cn/model/tjjs2019b.html)

# 一、问题提出
## 1.1 问题一

如下图所示，动车组的一次检修包括a，b，c三个工序。每个工序拥有的作业车间和需要花费的时间如表1所示，相同工序不同车间的耗费时间相同。动车组按a→b→c顺序进行检修，完成一个检修工序后驶入下一个有空闲位置的车间进行下一个检修工序，若下一个工序所有车间都处于占用状态，则动车组需要在上一个车间中等待。动车运用所某12小时内每十五分钟来1辆待检修的动车，按照目前的车间设置，维修完所有这些动车组总共需要多长时间？请给出安排检修的最佳方案。假设第一辆动车组抵达动车运用所时，所有检修车间都是空闲的，且车间之间的转换时间忽略不计。
![image](https://github.com/Aplicity/greed_for_train_programme/image/检修工序.png)

检修基本数据如下：

| 工序类别 | a | b | c |
| ------ | ------ | ------ | ------ |
| 车间数量（个） | 3 | 8 | 5 |
| 耗时（小时） | 1 | 2 | 1.5 |

## 1.2 问题二

事实上，如下表所示，不同类型的动车组每个工序需要花费的时间是不一样的。请根据附件中附表一到达动车运用所的动车信息，计算维修完这些动车的总时间。

| 动车类别 | 工序a | 工序b | 工序c |
| ------ | ------ | ------ | ------ |
| CRH2 | 1 | 1 | 1.5 |
| CRH3 | 0.8 | 2.4 | 0.5 |
| CRH5 | 1.3 | 2.5 | 1.5 |
| CRH6 | 1 | 2.7 | 0.3 |

附表一如下：发车时间表

| 到站时间 | 动车类别|
| -------  | --------|
| 00：16|CRH2|
| 00：47|CRH5|
| 01：22|CRH2|
|02：00|CRH6|
|02：21|CRH3|
|03：02|CRH6|
|03：31|CRH2|
|03：59|CRH5|
|04：01|CRH3|
|04：27|CRH3|
|05：09|CRH6|

## 1.3 问题三

根据列车的行驶时间、历程和检修周期，动车组的检修被划分成不同检修等级I~V，如表3不同的检修等级对应不同的工序组合。工序d与e分别设有车间3和2个，相同工序不同车间的耗费时间相同。表4为不同动车类别的每个工序需要耗费的时间。根据附表二的到所列车信息，计算检修完这些列车需要的总时间是多少？

检修等级对应工序表

| 检修等级 | 对应工序组合|
| -------  | --------|
|Ⅰ|a→b|
|Ⅱ|a→b→c|
|Ⅲ|a→b→d|
|Ⅳ|a→c→d→e|
|V|a→b→c→d→e|

检修基本数据如下：

| 动车类别 | 工序a | 工序b | 工序c |工序d |工序e |
| ------ | ------ | ------ | ------ | ----| ----- |
| CRH2 | 1 | 1 | 1.5 | 4 | 7 |
| CRH3 | 0.8 | 2.4 | 0.5 | 4.8| 6.5|
| CRH5 | 1.3 | 2.5 | 1.5 |3 | 6.5|
| CRH6 | 1 | 2.7 | 0.3 | 5 | 7

附表二：发车时间表

| 到站时间 | 动车类别| 检修类型 |
| -------  | --------| -------- |
|00：16|CRH2|Ⅳ |
|00：47|CRH5|Ⅱ |
|01：22|CRH2|Ⅱ |
|02：00|CRH6|Ⅰ |
|02：21|CRH3|Ⅲ |
|03：02|CRH6|Ⅱ |
|03：31|CRH2|V |

# 求解思路

贪心算法。车间有空闲，且有新车进，则随便找个空闲车间进行检修。如果有新车进，但无空闲车间，且推迟进站，直至有空闲车间。
以其中一道工序的运行为例：
![image](https://github.com/Aplicity/greed_for_train_programme/image/某道工序计算逻辑.png)

求解完前一道工序后，知道完成前一道工序的出站时间，并以此为下一道工序的进站时间，即可求到完成所有工艺的所有安排。

对于第三问，对于下一道工序不需要检修的，检修完上一道工序后就先放一边，后面需要再检修的再补回来。依然完成前一道工序的出站时间为下一道工序的进站时间。
![image](https://github.com/Aplicity/greed_for_train_programme/image/第三问完整工序流程.png)


